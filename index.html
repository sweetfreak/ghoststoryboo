<!DOCTYPE html>
<html>
<head>
    <title>A Terrifying Ghost Story</title>
    <!-- Add the viewport meta tag -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <!-- Google Font Link -->
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Jersey+10&display=swap" rel="stylesheet">
   <style>
        /* Base styles */
        body {
            background-color: black;
            color: white;
            text-align: center;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;

            font-family: "Jersey 10", sans-serif;

        }

        #content {
            width: 100%;
            max-width: 200%;
            padding-top: 5%;
            margin: auto;
        }

        #image-container {
            justify-content: center;
            align-items: center;
            border: 8px solid white;
            border-radius: 10px;
            margin-bottom: 20px;
            max-width: 25%;
            margin: 0 auto;
            transition: transform 1s ease-in-out;
        }

        #image-container img {
            width: 100%;
            height: auto;
            max-width: 200%;
            transition: transform 1s ease-in-out; 
            image-rendering: -moz-crisp-edges;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: pixelated;
            -ms-interpolation-mode: nearest-neighbor;
        }

        #text {
            font-size: 1.5em;
            padding: 20px;
            /* font-style: italic; */
            max-width: 800px;
            margin: 0 auto;
        }

        .choice-button {
            font-family: "Jersey 10", sans-serif;

            display: inline-block;
            padding: 15px 25px;
            margin: 10px;
            background-color: white;
            color: black;
            /* font-weight: bold; */
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: transform 0.5s, opacity 0.5s, top 1s;
            position: relative;
            font-size: 1.5em;
            max-width: 90%;
            white-space: normal;
            word-wrap: break-word;
            transition: opacity 0.5s steps(15), top 1s steps(5);
        }

        /* Responsive adjustments */
        @media (max-width: 600px) {
            #content {
                max-width: 200%;
                padding-top: 10%;
                margin: 0;

            }

            #image-container {
                max-width:80%; /* Allows container to be full width */
            }

            #text {
                font-size: 1.8em;
            }

            .choice-button {
                padding: 10px 15px;
                font-size: 1.25em;
            }
        }

        /* Button animations */
        .choice-button.clicked {
            transform: scale(1.5);
            animation: scaleUpSteps 0.5s steps(3);

        }

        .hidden {
            /* opacity: 0; */
            transform: scale(0.5);
            animation: scaleDownSteps 0.5s steps(3);

        }

        /* Slide animations */
        #content {
            transition: transform 1.0s steps(15);
            will-change: transform;
        }


        .move-off-screen-left {
            transform: translateX(-100%);
        }

        .slide-out-to-right {
            transform: translateX(120%);
        }

        .slide-in-from-left {
            transform: translateX(0);
        }

        .no-transition {
            transition: none !important;
        }

        @keyframes scaleUpSteps {
    0% { transform: scale(1); }
    50% { transform: scale(1.25); }
    100% { transform: scale(1.5); }
}

@keyframes scaleDownSteps {
    0% { transform: scale(1); }
    50% { transform: scale(0.75); }
    100% { transform: scale(0.5); }
}

       
    </style>
</head>
<body>
    <div id="content">
        <div id="image-container">
            <img id="image" src="" alt="" />
        </div>
        <div id="text"></div>
        <div id="choices"></div>
    </div>
    <script>
        const storyData = {
            "mainMenu": {
                id: "mainMenu",
                text: "My Ghost Story",
                imageName: "beginning.png",
                choices: [
                    {text: "Begin", destinationID: "start"},
                    {text: "Credits", destinationID: "credits"}
                ]
            },
            "credits": {
                id: "credits",
                text: "By Arthur Hickman and Jesse Sheehan",
                imageName: "Ghost1.jpeg",
                choices: [
                    {text: "Back", destinationID: "mainMenu"},
                    
                ]
            },
            "start": {
                id: "start",
                text: "Suddenly... I'm awake. Floating above the ground...",
                imageName: "awake.png",
                choices: [
                    {text: "I must be a ghost", destinationID: "aGhost"},
                    {text: "I can fly!", destinationID: "firstFlying"}
                ]
            },
            "aGhost": {
                id: "aGhost",
                text: "A ghost? Yes. So that must mean",
                imageName: "ghosthand.png",
                choices: [
                    {text: "I'm dead.", destinationID: "dead"}
                ]
            },
            "firstFlying": {
                id: "firstFlying",
                text: "I'm the first flying man in human history!",
                imageName: "firstflying.png",
                choices: [
                    {text: "I've got to tell the newspaper", destinationID: "newspaper"},
                    {text: "Wait, why can I see through my hand? Could I be a...", destinationID: "aGhost"}
                ]
            },
            "newspaper": {
                id: "newspaper",
                text: "I reach to call my contacts at the paper, but my hand passes through my phone. Does this mean what I think it means?",
                imageName: "handpass.png",
                choices: [
                    {text: "I must be a...", destinationID: "aGhost"}
                ]
            },
            "dead": {
                id: "dead",
                text: "Wow. I'm overwhelmed with feelings both physical and emotional",
                imageName: "skull.png",
                choices: [
                    {text: "The weather here feels... hot and dry... mate", destinationID: "austrailia"}
                ]
            },
            "austrailia": {
                id: "austrailia",
                text: "Was... Was I in Austrailia? But... why was I there?",
                imageName: "overwhelmed.png",
                choices: [
                    {text: "It was a vacation, I always wanted to see the outback", destinationID: "trip"},
                    {text: "There was a content involving cereal boxes. I won a free trip to Sydney", destinationID: "trip"},
                    {text: "I never even wanted to be on this trip", destinationID: "work"}
                ]
            },
            "trip": {
                id: "trip",
                text: "Of course! My trip down under... But what was I actually doing there?",
                imageName: "inaustrailia.png",
                choices: [
                    {text: "I was watching TV in my hotel room. It was too hot outside!", destinationID: "hotel"},
                    {text: "I was on an excursion. Foolish, for a city guy like me.", destinationID: "excursion"},
                    {text: "Work. Even when I was on vacation, I was always working.", destinationID: "work"}
                ]
            },
            "work": {
                id: "work",
                text: "Work always did control my life...",
                imageName: "ghostform.png",
                choices: [
                    {text: "I was quite the working stiff", destinationID: "timeOffice"}
                ]
            },
            "hotel": {
                id: "hotel",
                text: "So I'm actually just safe in my hotel room? Maybe I'm not dead.",
                imageName: "Ghost2.jpeg",
                choices: [
                    {text: "I knew I wasn't dead! What kind of self-respecting universe would let ME die?", destinationID: "dream"},
                    {text: "I'm a floating translucent spirit. I'm obviously dead.", destination: "misremember"}
                ]
            },
            "misremember": {
                id: "misremember",
                text: "I must have misremembered. What's the last thing I REALLY rememember seeing?",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "A big round eye.", destinationID: "bird"},
                    {text: "A beak, a crown of bone, and blackness", destinationID: "bird"}
                ]
            }, 
            "excursion": {
                id: "excursion",
                text: "I should have followed my natural inclination to stay indoors. But I didn't. And I died. What's the last thing I remember seeing?",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "Some sand, some shrubs. And then I remember taking my taxi back to my hotel...", destinationID: "wait"},
                    {text: "A big round eye", destinationID: "bird"},
                    {text: "A beak, a crown of bone, then... black...", destinationID: "bird"}
                ]
            },
            "timeOffice": {
                id: "timeOffice",
                text: "They say that at the end of one's life, nobody ever wished they spent more time at the office.",
                imageName: "Ghost1.jpeg",
                choices: [
                    {text: "That's so true", destinationID: "stepAway"},
                    {text: "Actually, I wish  do spent more time at the office", destinationID: "cubicle"}
                ]
            },
            "stepAway": {
                id: "stepAway",
                text: "Good thinking I was able to step away and enjoy my trip for a little while. But what was I doing?",
                imageName: "Ghost2.jpeg",
                choices: [
                {text: "I was watching TV in my hotel room. It was too hot outside!", destinationID: "hotel"},
                {text: "I was on an excursion. Foolish, for a city guy like me.", destinationID: "excursion"},
                ]
            },
            // WORK/AWAKEN IN CUBICLE INCOMPLETE
            "cubicle": {
                id: "cubicle",
                text: "In a sudden flash, I'm transported to my cubicle. I've been rewarded!",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "This is just where I wanted to be! Perhaps it's morally good to work?", destinationID: "officeParadise"}
                ]
            },
            "officeParadise": {
                id: "officeParadise",
                text: "I'm in a true paradise, and I'll never have to leave here!",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "I've found peace", destinationID: "officePeace"},
                ]
            }, 
            "officePeace": {
                id: "officePeace",
                text: "GAME OVER - GHOST HAS FOUND UNUSUAL BRAND OF PEACE",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "PLAY AGAIN", destinationID: "mainMenu"},
                ]
            }, 
            // HOTEL/WAKE FROM DREAM INCOMPLETE
            "dream": {
                id: "dream",
                text: "I wake up with a start! What a horrible nightmare!",
                imageName: "Ghost1.jpeg",
                choices: [
                    {text: "Check my hands for signs of ghostism", destinationID: "humanAgain"}
                ]
            },
            "humanAhain": {
                id: "humanAgain",
                text: "What a relief. A solid, human hand. Not even a little bit see-through",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "I look out the window to appreciate life's beauty", destinationID: "bomb"},
                ]
            }, 
            "bomb": {
                id: "bomb",
                text: "Uh oh",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "Dang.", destinationID: "blownAway"},
                ]
            }, 
            "blownAway": {
                id: "blownAway",
                text: "",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "Well... what now?", destinationID: "void"},
                ]
            }, 
            "wait": {
                id: "wait",
                text: "And then I remember being inside for a while...",
                imageName: "Ghost2.jpeg",
                choices: [
                    {text: "Wait...", destinationID: "hotel"}
                ]
            },
            "bird": {
                id: "bird",
                text: "Ahh, that bird. That horrible bird!!",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "I remember! I remember everything!", destinationID: "inPresent"}
                ]
            },
            "inPresent": {
                id: "inPresent",
                text: "Now that I've regained my memories, I'm back in the present day. Yet here's that bird in front of me, silent and motionless...",
                imageName: "Ghost1.jpeg",
                choices: [
                    {text: "I must attack it. I will have my revenge!", destinationID: "attackBird"},
                    {text: "I place a forgiving kiss on its beak. Their suffering is now over, as is my own.", destinationID: "tasteBird"},
                    {text: "I'll wait for the beast to move. Maybe it's only pretending to be taxidermied...", destinationID: "waitForBird"}
                ]
            },
            "attackBird": {
                id: "attackBird",
                text: "The bird falls over, stiff as a board. Some stuffing comes out of a hole in its neck.",
                imageName: "Ghost2.jpeg",
                choices: [
                    {text: "Keep going! It has more suffering to do!", destinationID: "attackBird2"},
                    {text: "This is pointless...", destinationID: "nothingLeft"}
                ]
            },
            "tasteBird": {
                id: "tasteBird",
                text: "Eugh... it tastes really bad.",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "I was trying to be nice, but this is the thanks I get? I attack the evil-tasting bird!", destinationID: "attackBird"},
                    {text: "Inspite of its foul, fowl taste, I will be the bigger human... or the only human, and forgive it for tasting to so bad", destinationID: "nothingLeft"}
                ]
            },
            "waitForBird": {
                id: "waitForBird",
                text: "I see through your elaborate, cotton-stuffed ruse, vile creature!",
                imageName: "Ghost1.jpeg",
                choices: [
                    {text: "You cannot fool me - I'll wait!", destinationID: "waitForBird2"},
                ]
            },
            "waitForBird2": {
                id: "waitForBird",
                text: "...Hm... It still hasn't moved an inch...",
                imageName: "Ghost2.jpeg",
                choices: [
                    {text: "Give it another minute", destinationID: "waiting1"},
                    {text: "Actually, I think it's really dead", destinationID: "enoughWaiting"},
                ]
            },
            "waiting1": {
                id: "waiting1",
                text: "Hmm...",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "I'll wait longer", destinationID: "waiting2"}
                ]
            },
            "waiting2": {
                id: "waiting2",
                text: "*sigh*... hmm hm hmmm...",
                imageName: "Ghost1.jpeg",
                choices: [
                    {text: "...", destinationID: "waiting3"}
                ]
            },
            "waiting3": {
                id: "waiting3",
                text: "Okay I think it's really dead.",
                imageName: "Ghost2.jpeg",
                choices: [
                    {text: "Finally!", destinationID: "enoughWaiting"}
                ]
            },
            "enoughWaiting": {
                id: "enoughWaiting",
                text: "Right then... now what to do about this avian beast?",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "I must attack it! I still crave revenge.", destinationID: "attackBird"},
                    {text: "I give it a forgiving kiss on the beak. Its suffering is over, as is my own", destinationID: "tasteBird"}
                ]
            },
            "nothingLeft": {
                id: "nothingLeft",
                text: "There's nothing left for me in this Austrailian attic. What now?",
                imageName: "Ghost1.jpeg",
                choices: [
                    {text: "If I wait long enough, maybe something will happen", destinationID: "nothingHappens"},
                    {text: "I leave", destinationID: "leaveAttic"}
                ]
            },
            //Attacking bird
            "attackBird2": {
                id: "attackBird2",
                text: "I pount its stupid beak into the stupid floor. I grind it down to nothing but cotton, feathers, and dust",
                imageName: "Ghost2.jpeg",
                choices: [
                    {text: "Surely, this was my unfinished business. Surely I'll be free now.", destinationID: "reconstitutes"}
                ]
            },
            "reconstitutes": {
                id: "reconstitutes",
                text: "No... before my eyes, the wretched beast reconstitutes itself!",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "Run!", destinationID: "run"},
                    {text: "I must stand my ground", destinationID: "futile"}
                ]
            },
            "run": {
                id: "run",
                text: "I try to flee, but it's too fast - fueled by pure hellfire!",
                imageName: "Ghost1.jpeg",
                choices: [
                    {text: "I can't keep running much further!", destinationID: "futile"}
                ]
            },
            "futile": {
                id: "futile",
                text: "My efforts are futile! The monster pecks and pecks at my poor head.",
                imageName: "Ghost2.jpeg",
                choices: [
                    {text: "I Accept this second death... and whatever comes next...", destinationID: "ectoplasmic"},
                    {text: "Thrash around and really draw it out", destinationID: "thrash"},
                ]
            },
            "thrash": {
                id: "thrash",
                text: "Success! It takes a really long time, but eventually the bird does kill me. I'd like to say it's equally unpleasant for both of us, but the bird doesn't seem to mind.",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "I've died a second time. A death... within a death", destinationID: "ectoplasmic"}
                ]
            },
            "ectoplasmic": {
                id: "ectoplasmic",
                text: "My ghostly form has been bashed into an ectoplasmic putty",
                imageName: "Ghost1.jpeg",
                choices: [
                    {text: "I'm quite repulsive", destinationID: "void"}
                ]
            },
            "void": {
                id: "void",
                text: "I find myself falling through a great void, with no company, but my own thoughts and memories. After a long time, even those escape me...",
                imageName: "Ghost2.jpeg",
                choices: [
                    {text: "Who am I?", destinationID: "blankness"},
                    {text: "Where am I?", destinationID: "blankness"},
                ]
            },
            "blankness": {
                id: "blankness",
                text: "It doesn't matter... Before I'm subsumed by a calming blankness, I wonder if I make up somewhere new, where perhaps, I could make new choices...",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "Probably not, but it's a nice thought", destinationID: "start"},
                ]
            },
            "nothingHappens": {
                id: "nothingHappens",
                text: "Hm. Nothing is happening. Occasionally a rat or spider scamper around, but it doesn't really change my situation.",
                imageName: "Ghost1.jpeg",
                choices: [
                    {text: "I guess I'll just leave", destinationID: "leaveAttic"},
                ]
            },
            "leaveAttic": {
                id: "leaveAttic",
                text: "I descend upon the attic ladder and drift down. A veil of dust obscures the upstairs hallway. Man, this place really...",
                imageName: "Ghost2.jpeg",
                choices: [
                    {text: "....has a lot of character", destinationID: "hallway"},
                    {text: "...sucks!", destinationID: "hallway"},
                ]
            },
            "hallway": {
                id: "hallway",
                text: "The house reeks of rotting taxidermy. Or I'm sure it would if I could still smell.",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "I guess I never realized ghosts can't smell.", destinationID: "oldMan"},
                ]
            },
            "oldMan": {
                id: "oldMan",
                text: "I continue my descent, down the stairs, where an old man sits in an easy chair. I should...",
                imageName: "Ghost1.jpeg",
                choices: [
                    {text: "say hello", destinationID: "sayHello"},
                    {text: "scare him!", destinationID: "scareHim"},
                    {text: "leave him be.", destinationID: "leaveHim"},
                ]
            },
            //THIS ONE ISN'T FINISHED

            "sayHello": {
                id: "sayHello",
                text: "Well... here it goes",
                imageName: "Ghost2.jpeg",
                choices: [
                    {text: "Hello", destinationID: "hunterAwakens"},
                    {text: "Oi there, Mate!", destinationID: "hunterAwakens"},
                ]
            },
            //THIS ONE ISN'T FINISHED
            "leaveHim": {
                id: "leaveHim",
                text: "As I sneak away, I knock over an urn. It smashes on the floor, releasing a cloud of ash, awakening the old man.",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "They ashes...", destinationID: "ashes"},
                ]
            },
            "scareHim": {
                id: "scareHim",
                text: "Here goes nothing",
                imageName: "Ghost1.jpeg",
                choices: [
                    {text: "Boo!", destinationID: "hunterAwakens"},
                    {text: "OooOoOoOoOo!", destinationID: "hunterAwakens"},
                ]
            },
            "hunterAwakens": {
                id: "hunterAwakens",
                text: "The old hunter awakens with a terrified spasm, accidentally firing the gun towards my ghostly head",
                imageName: "Ghost2.jpeg",
                choices: [
                    {text: "Dodge left", destinationID: "hitBullet"}, // change from mainMenu
                    {text: "Stay still, hope he misses", destinationID: "closeCall"}, // change from mainMenu
                    {text: "Dodge right", destinationID: "closeCall"}, // change from mainMenu
                ]
            }, 
            "hitBullet": {
                id: "hitBullet",
                text: "I'm blown into a shower of milky white ectoplasm...",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "Not again...", destinationID: "void"},
                    {text: "Oh well, that's life", destinationID: "void"}
                ]
            }, 
            "closeCall": {
                id: "closeCall",
                text: "Phew, that was a close one. The shot hits an urn to my left, kicking up a thick cloud of ash",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "Wait a minute. These ashes...", destinationID: "ashes"},
                ]
            }, 
            "ashes": {
                id: "ashes",
                text: "They're mine. They produce a pleasant tingle as they float through me.",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "This is a weird. Did not see this coming", destinationID: "sadMan"},
                    {text: "It tickles! teehee!", destinationID: "sadMan"}
                ]
            }, 
            "sadMan": {
                id: "sadMan",
                text: "As the ash settles around me, the old man falls to his knees and attemps to scoop up the ashes with his hands.",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "Yuck", destinationID: "scoop"},
                ]
            }, 
            "scoop": {
                id: "scoop",
                text: "He cries out in a thick Aussie accent 'My child, my poor child... I avenged you, I killed that bastard bird, I really did!'",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "F-father?", destinationID: "cane"},
                ]
            }, 
            "cane": {
                id: "cane",
                text: "My old man grabs his cane and hobbles about the house searching for a new contain, but to avail. He returns to my pile, empty-handed.",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "I'm not picky, just some tupperware is fine", destinationID: "dustpan"},
                ]
            }, 
            "dustpan": {
                id: "dustpan",
                text: "He stares at my remnants for a long time until, finally, he sighs and sweeps me into a dust pan and tosses me into the trash.",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "Sheesh, I don't even get a proper burial?", destinationID: "trashOut"}
                ]
            }, 
            "trashOut": {
                id: "trashOut",
                text: "Wait - a proper burial! I think that's my unfinished bus-- uh oh, he's taking out the trash, and it appears my ghostly form is tied to the ashes!",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "Off to the dump, go I", destinationID: "garbageTruck"},
                    {text: "Perhaps I'll haunt him from afar...", destinationID: "garbageTruck"}
                ]
            }, 
            "garbageTruck": {
                id: "garbageTruck",
                text: "The next morning, the garbage truck whisks me away, delivering me to, what I can only image, is an eternity of waste.",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "Good thing ghosts can't smell", destinationID: "burial"},
                ]
            }, 
            "burial": {
                id: "burial",
                text: "The garbage truck unloads me amongst hundeds of other trash bags. Soon, my ashes are beneathing hundreds of pounds of garbage.",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "I guess.. it's kind of like being buried?", destinationID: "poof"},
                ]
            }, 
            "poof": {
                id: "poof",
                text: "*poof*",
                imageName: "Ghost3.jpeg",
                choices: [
                    {text: "...", destinationID: "last"},
                ]
            }, 
            "last": {
                    id: "last",
                    text: "GAME OVER - GHOST HAS FOUND PEACE WITH A PROPER BURIAL UNFINISHED BUSINESS: RESOLVED ",
                    imageName: "Ghost3.jpeg",
                    choices: [
                        {text: "PLAY AGAIN", destinationID: "mainMenu"},
                    ]
                }, 
        };

        let currentNodeID = "mainMenu";
        let tappedChoice = null;


        function handleChoiceTap(choice) {
    tappedChoice = choice.text;
    const buttons = document.querySelectorAll('.choice-button');
    const imageElement = document.getElementById('image');
    const imageContainer = document.getElementById('image-container');
    const textElement = document.getElementById('text');
    const contentElement = document.getElementById('content');

    // Handle button animations
    buttons.forEach(button => {
        if (button.textContent === tappedChoice) {
            button.classList.add('clicked');
        } else {
            button.classList.add('hidden');
        }
    });

   

     // Wait for 2 seconds before starting the slide-out animation
     setTimeout(() => {
        // Start slide-out animation
        contentElement.classList.add('slide-out-to-right');
    // After slide-out is complete, update the node and slide in new content
    setTimeout(() => {
        // Update the node
        currentNodeID = choice.destinationID;
        resetAnimations();

        // Temporarily disable transition
        contentElement.classList.add('no-transition');

        // Remove 'slide-out' class and set content to off-screen to the left
        contentElement.classList.remove('slide-out-to-right');
        contentElement.classList.add('move-off-screen-left');

        // Show the new content
        showCurrentNode();

        // Force reflow to ensure the browser registers the position change
        void contentElement.offsetWidth;

        // Re-enable transition
        contentElement.classList.remove('no-transition');

        // Start slide-in animation
        contentElement.classList.remove('move-off-screen-left');
        contentElement.classList.add('slide-in-from-left');

        // After slide-in animation is complete, clean up
        setTimeout(() => {
            contentElement.classList.remove('slide-in-from-left');
            contentElement.style.transform = '';
        }, 1500); // duration of slide-in animation
    }, 1500); // duration of slide-out animation
}, 750); // Wait for .75 seconds before sliding out

}

function showCurrentNode() {
    const currentNode = storyData[currentNodeID];
    const imageElement = document.getElementById('image');
    const imageContainer = document.getElementById('image-container');
    const textElement = document.getElementById('text');
    const choicesElement = document.getElementById('choices');

 

    // Update image
    if (currentNode.imageName) {
        // Set the image source
        imageElement.src = currentNode.imageName;
        imageElement.style.display = 'inline';
    } else {
        imageElement.style.display = 'none';
    }

    // Update text
    textElement.textContent = currentNode.text;

    // Clear previous choices
    choicesElement.innerHTML = '';

    // Create choice buttons
    if (currentNode.choices) {
        currentNode.choices.forEach(choice => {
            const button = document.createElement('button');
            button.className = 'choice-button';
            button.textContent = choice.text;
            button.addEventListener('click', () => {
                handleChoiceTap(choice);
            });
            choicesElement.appendChild(button);
        });
    }
}

function resetAnimations() {
    tappedChoice = null;
    const contentElement = document.getElementById('content');
    contentElement.classList.remove('slide-out-to-right', 'move-off-screen-left', 'slide-in-from-left');
    contentElement.style.transform = '';
}

        // Start the story
        showCurrentNode();
        </script>
        </body>
</html>